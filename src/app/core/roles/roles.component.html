<p-toast></p-toast>
<div class="card">
    <p-toolbar styleClass="p-mb-4">
        <ng-template pTemplate="left">
            
            <p-dropdown [autoDisplayFirst]="false" placeholder="Seleccione un Rol"
            [(ngModel)]="this.selectedRolId"
            (onChange)="onChangeRol($event)"            
            [virtualScroll]="true" [virtualScrollItemSize]="30"
            [options]="roles"  optionLabel="nombreRol" optionValue="idRol"></p-dropdown>
            <button pButton pRipple label="Nuevo" icon="pi pi-plus" class="p-button-success p-mr-2" (click)="openNew()"></button>
            <button pButton pRipple label="Editar" icon="pi pi-pencil" class="p-button-warning p-mr-2" (click)="openEdit()"></button>
            <!-- <button pButton pRipple label="Eliminar" icon="pi pi-trash" class="p-button-danger p-mr-2" (click)="openDelete()"></button> -->
 
        </ng-template>   
    </p-toolbar>

  
    
    
    <h5>Menus</h5>
    <div style="margin-bottom: 1rem">
        <button pButton type="button" label="Expand all" (click)="expandAll()" style="margin-right: .5rem"></button>
        <button pButton type="button" label="Collapse all" (click)="collapseAll()"></button>
    </div>
    <p-tree [value]="files2"  selectionMode="checkbox"  [(selection)]="selectedFiles"  (onNodeSelect)="nodeSelect($event)" (onNodeUnselect)="nodeUnselect($event)"></p-tree>

  
    <p-dialog [(visible)]="userDialog" [style]="{width: '450px'}" header="Detalle del Rol" [modal]="true" styleClass="p-fluid">
        <ng-template pTemplate="content">
            <div class="p-field">
                <label for="nombreRol">Nombre Rol</label>
                <input type="text" pInputText id="nombreRol" [(ngModel)]="rol.nombreRol" required autofocus />
                <small class="p-invalid" *ngIf="submitted && !rol.nombreRol">El nombre del rol es requerido.</small>
            </div>
            <div class="p-field">
                <label for="descripcion">Descripción </label>
                <input id="descripcion" pInputText [(ngModel)]="rol.descripcion" required autofocus/>
                <small class="p-invalid" *ngIf="submitted && !rol.descripcion">La descripción  es requerido.</small> 
            </div>
           
            <div class="p-field">
                <label for="rol">Estatus</label>
                <p-dropdown [autoDisplayFirst]="false"
                
                [(ngModel)]="this.selectedSatus"
                [virtualScroll]="true" [virtualScrollItemSize]="30"
                [options]="status"  optionLabel="label" optionValue="val"></p-dropdown>
            </div>
            <div class="p-field">
                <br>
            </div>
              
        </ng-template>
        
        <ng-template pTemplate="footer">
            <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
            <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="save()"></button>
        </ng-template>
    </p-dialog>
</div>

<p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>